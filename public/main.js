(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./$$_lazy_route_resource lazy recursive":
/*!******************************************************!*\
  !*** ./$$_lazy_route_resource lazy namespace object ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/app.component.html":
/*!**************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/app.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--<app-maze-single></app-maze-single>-->\n<router-outlet></router-outlet>\n\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/components/login-page/login-page.component.html":
/*!*******************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/components/login-page/login-page.component.html ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class = 'container login' *ngIf='toShow'>\n<app-navbar></app-navbar>\n  <br/>\n  <br/>\n<form #formRef = 'ngForm'>\n  <div class=\"form-group\">\n    <label for=\"exampleInputUsername\">User Name:</label>\n    <input type=\"username\" class=\"form-control\" id=\"exampleInputUsername\" \n      [(ngModel)] = 'uname' name = 'username'\n      required placeholder=\"Enter username\">\n    <small id=\"usernameHelp\" class=\"form-text text-muted\">We'll never share your username with anyone else.</small>\n  </div>\n  <div class=\"form-group\">\n    <label for=\"exampleInputPassword\">Password</label>\n    <input type=\"password\" class=\"form-control\" id=\"exampleInputPassword\" \n      [(ngModel)] = 'password' name = 'password'\n      required placeholder=\"Enter password\">\n  </div>\n  <button type=\"submit\" class=\"btn btn-primary pull-right\" (click) = 'loginCheck()'>Login</button>\n  <div *ngIf='message' class=\"alert alert-warning\" role=\"alert\">\n    {{message}}\n  </div>\n</form>\n</div>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/components/maze-competition/maze-competition.component.html":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/components/maze-competition/maze-competition.component.html ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class='container'>\n<app-navbar></app-navbar>\n<br/>\n<br/>\n<div class = 'timer'> Time used: {{timecount.value.toFixed(2)}}s. </div>\n<div class=\"row\">\n  <div class=\"col-sm-6\">\n        <div class = 'timer'>\n            <div> Player1: {{uname}} !</div>\n            <button type = 'button' class = 'btn btn-primary'\n            (click) = 'waiting()' *ngIf = '!start_on && !is_waiting'> Start  </button>\n            <button type = 'button' class = 'btn btn-primary'\n            *ngIf = '!start_on && is_waiting' [disabled] = 'true'> Ready  </button>\n        </div>\n        <canvas #canvas> </canvas>\n  </div>\n  <div class=\"col-sm-6\">\n        <div class = 'timer'>\n            <div *ngIf = '!oppo_info.is_on'> Waiting for player to join.</div>\n            <div *ngIf = 'oppo_info.is_on'> Player2: {{oppo_info.uname}} !</div>\n            <button type = 'button' class = 'btn btn-primary'\n            *ngIf = '!start_on && !oppo_info.is_waiting' [disabled] = 'true'> Not ready  </button>\n            <button type = 'button' class = 'btn btn-primary'\n            *ngIf = '!start_on && oppo_info.is_waiting' [disabled] = 'true'> Ready  </button>\n        </div>\n        <canvas #canvas_oppo> </canvas>\n  </div>\n</div>\n\n<!--countdown message-->\n<div class=\"modal fade\" id=\"countdownModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"exampleModalLabel\">Game will start!</h5>\n            </div>\n            <div class=\"modal-body\">\n              Game will start in {{countdowntime}}s.\n            </div>\n              <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"\n              data-toggle=\"modal\" #modalCountdown [hidden] = 'true'></button>\n        </div>\n    </div>\n</div>\n\n<!--ghost button-->\n<button type=\"button\" #modalOn data-toggle=\"modal\" data-target=\"#countdownModal\" [hidden] = 'true'>\n</button>\n\n<!--gameend message-->\n<div class=\"modal fade\" id=\"gameendModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"exampleModalLabel\">Game ends!</h5>\n            </div>\n            <div class=\"modal-body\">\n              Winner is {{winner_name}} with total time {{winner_time.value.toFixed(2)}}s used.\n            </div>\n            <div class=\"modal-footer\">\n              <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"\n              data-toggle=\"modal\" #gameendModalCancel (click) = 'gameendClose()'>cancel</button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<!--ghost button-->\n<button type=\"button\" #modalGameend data-toggle=\"modal\" data-target=\"#gameendModal\" [hidden] = 'true'>\n</button>\n\n<!--oppo disconnect message-->\n<div class=\"modal fade\" id=\"disconnectModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"exampleModalLabel\">Opponent disconnected!</h5>\n            </div>\n            <div class=\"modal-body\">\n              Opponent disconnected.\n            </div>\n            <div class=\"modal-footer\">\n              <button type=\"button\"  class=\"btn btn-secondary\" data-dismiss=\"modal\"\n              data-toggle=\"modal\" #disconnectModalCancel>cancel</button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<!--ghost button-->\n<button type=\"button\" #modalDisconnect data-toggle=\"modal\" data-target=\"#disconnectModal\" [hidden] = 'true'>\n</button>\n\n</div>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/components/maze-list/maze-list.component.html":
/*!*****************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/components/maze-list/maze-list.component.html ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class = 'container' *ngIf = 'to_show'>\n<app-navbar></app-navbar>\n<br/>\n<br/>\n<div class=\"jumbotron\">\n  <h5 class=\"lead\">Welcome, {{uname}}!</h5>\n  <p class=\"lead\">This is an online maze game platform. Please choose any maze you like to play</p>\n  <hr class=\"my-4\">\n  <p>Want to create a random maze?</p>\n  <p class=\"lead\">\n    <a class=\"btn btn-primary btn-lg\" [routerLink]=\"['/login', uname, 'newmaze']\" role=\"button\">Create random maze</a>\n  </p>\n</div>\n  <!--<div class=\"border border-primary badge choose\"> Choose the maze! </div>-->\n  <div class = 'list-group'>\n      <a class = 'list-group-item' *ngFor = 'let maze of mazes'>\n          <span class = \"{{'pull-left badge size size-' + maze.size.toLocaleLowerCase()}}\">\n              {{maze.size}}\n          </span>\n          <strong class = 'title'> Maze {{maze.id}} </strong>\n          <div class = 'float-right'>\n            <button type=\"button\" class=\"btn btn-success\" (click) = 'singleMode(maze.id)'>\n                  Single mode\n            </button>\n            &nbsp; &nbsp;\n            <button type=\"button\" class=\"btn btn-success\" data-toggle=\"modal\" (click) = 'mazeIdSelect(maze.id)' data-target=\"#selectModal\">\n                  Competition mode\n            </button>\n          </div>\n          \n          <!--competition room selection-->\n          <div class=\"modal fade\" #modalSelect id=\"selectModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div class=\"modal-dialog\" role=\"document\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                          <h5 class=\"modal-title\" id=\"exampleModalLabel\">Host or guest?</h5>\n                          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                          </button>\n                        </div>\n                        <div class=\"modal-body\">\n                          Would you like to create a room or join a room?\n                        </div>\n                        <div class=\"modal-footer\">\n                          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\n                          <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\"\n                          data-toggle=\"modal\" data-target=\"#roomCreateModal\" (click)='createRoomid()'>Create room</button>\n                          <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\"\n                          data-toggle=\"modal\" data-target=\"#roomSelectModal\">Join room</button>\n                        </div>\n                    </div>\n                </div>\n          </div>\n          \n          <!--create a room-->\n          <div class=\"modal fade\" #modalCreate id=\"roomCreateModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div class=\"modal-dialog\" role=\"document\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                          <h5 class=\"modal-title\" id=\"exampleModalLabel\">Create a room</h5>\n                          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                          </button>\n                        </div>\n                        <div class=\"modal-body\">\n                          Your room id will be: {{roomidToCreate}}. Create?\n                        </div>\n                        <div class=\"modal-footer\">\n                          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"\n                          data-toggle=\"modal\" data-target=\"#selectModal\">Cancel</button>\n                          <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\"\n                          (click)='createRoom(maze.id)'\n                          data-toggle=\"modal\">Create!</button>\n                        </div>\n                    </div>\n                </div>\n          </div>\n          \n          <!--join a room-->\n          <div class=\"modal fade\" #modalJoin id=\"roomSelectModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div class=\"modal-dialog\" role=\"document\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                          <h5 class=\"modal-title\" id=\"exampleModalLabel\">Connect to room</h5>\n                          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                          </button>\n                        </div>\n                        <div class=\"modal-body\">\n                          Please enter the room id:\n                        </div>\n                        <input type = 'text' name = \"connectRoom\" class = 'form-control' \n                          [(ngModel)] = 'roomidToConnect'\n                          (ngModelChange)=\"checkValidId()\"\n                          required placeholder=\"eg: 1234\">\n                          <div *ngIf='showError' class=\"alert alert-warning\" role=\"alert\">\n                            The room id should only contains number 0-9.\n                          </div>\n                        <div class=\"modal-footer\">\n                          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"\n                          data-toggle=\"modal\" data-target=\"#selectModal\">Cancel</button>\n\n                          <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\"\n                          (click) = 'joinRoom(maze.id)'\n                          data-toggle=\"modal\">Join!</button>\n                        </div>\n                    </div>\n                </div>\n          </div>\n          \n          <!--Error message-->\n          <div class=\"modal fade\" id=\"errorModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div class=\"modal-dialog\" role=\"document\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                          <h5 class=\"modal-title\" id=\"exampleModalLabel\">Error</h5>\n                          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                          </button>\n                        </div>\n                        <div class=\"modal-body\">\n                          {{message}}\n                        </div>\n                        <div class=\"modal-footer\">\n                          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"\n                          data-toggle=\"modal\" data-target=\"#selectModal\">Cancel</button>\n                        </div>\n                    </div>\n                </div>\n          </div>\n          \n          <!--ghost button-->\n          <button type=\"button\" #modalOn data-toggle=\"modal\" data-target=\"#errorModal\" [hidden] = 'true'>\n            test\n          </button>\n          \n      </a>\n  </div>\n</div>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/components/maze-single/maze-single.component.html":
/*!*********************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/components/maze-single/maze-single.component.html ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class = 'container' *ngIf = 'to_show'>\n  <app-navbar></app-navbar>\n  <br/>\n  <br/>\n    <div (window:beforeunload)=\"saveProcess()\"></div>\n    <div class = 'timer'>\n        <div> Welcome, {{uname}} !\n        <div> Time used: {{timecount.toFixed(2)}}s. </div>\n        <button type = 'button' class = 'btn btn-primary'\n        (click) = 'StartOrReset()'> {{buttonmessage}}  </button>\n    </div>\n    <canvas #canvas> </canvas>\n    \n    <button type=\"button\" #modalOn data-toggle=\"modal\" data-target=\"#selectModal\" [hidden] = 'true'>\n        test\n    </button>\n\n    <div class=\"modal fade\"  id=\"selectModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\">\n                <div class=\"modal-dialog\" role=\"document\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                          <h5 class=\"modal-title\" id=\"exampleModalLabel\">Restore Process</h5>\n                          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                          </button>\n                        </div>\n                        <div class=\"modal-body\">\n                          Would you like to restore the game last time?\n                        </div>\n                        <div class=\"modal-footer\">\n                          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"\n                          (click) = 'resetProcess()'>No</button>\n                          <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\"\n                          >Yes</button>\n                        </div>\n                    </div>\n                </div>\n          </div>\n</div>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/components/navbar/navbar.component.html":
/*!***********************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/components/navbar/navbar.component.html ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n  <div class=\"navbar-brand\">Navbar</div>\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n  <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n    <ul class=\"navbar-nav ml-auto\">\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" (click)=\"login()\">Home<span class=\"sr-only\">(current)</span></a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" *ngIf = 'signUpShow' (click)=\"signup()\">Sign up</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" *ngIf = 'loginShow' (click)=\"login()\">Login</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" *ngIf = 'logoutShow' (click)=\"logout()\">Logout</a>\n      </li>\n    </ul>\n  </div>\n</nav>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/components/new-maze/new-maze.component.html":
/*!***************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/components/new-maze/new-maze.component.html ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class = 'container login' *ngIf='to_show'>\n<app-navbar></app-navbar>\n  <br/>\n  <br/>\n<form #formRef = 'ngForm' *ngIf = 'create_on'>\n  <div> Plase enter maze information </div>\n  <small id=\"widthHelp\" class=\"form-text text-muted\">The ratio of width and height should between 0.8 and 1.2.</small>\n  <div class=\"form-group\">\n    <label for=\"exampleInputUsername\">Maze width:</label>\n    <input type=\"text\" class=\"form-control\" id=\"exampleInputWidth\" \n      [(ngModel)] = 'width' (ngModelChange)=\"checkValidWidth()\" name = 'width'\n      required placeholder=\"Enter width\">\n    <small id=\"widthHelp\" class=\"form-text text-muted\">Maze width shoule be an odd number between 5 and 79.</small>\n    <div *ngIf='widthMessage' class=\"alert alert-warning\" role=\"alert\">\n       {{widthMessage}}\n    </div>\n  </div>\n  <div class=\"form-group\">\n    <label for=\"exampleInputHeight\">Maze height</label>\n    <input type=\"text\" class=\"form-control\" id=\"exampleInputHeight\" \n      [(ngModel)] = 'height' (ngModelChange)=\"checkValidHeight()\" name = 'height'\n      required placeholder=\"Enter height\">\n    <small id=\"heightHelp\" class=\"form-text text-muted\">Maze height shoule be an odd number between 5 and 79.</small>\n    <div *ngIf='heightMessage' class=\"alert alert-warning\" role=\"alert\">\n       {{heightMessage}}\n    </div>\n  </div>\n  <button type=\"submit\" class=\"btn btn-primary pull-right\" (click) = 'createMaze()'>Create Maze!</button>\n  <div *ngIf='message' class=\"alert alert-warning\" role=\"alert\">\n    {{message}}\n  </div>\n\n</form>\n<div class = 'to_submit' [hidden]=\"!canvas_on\">\n   <div> Would you like to create this maze?</div>\n   <div>\n     <button type=\"submit\" class=\"btn btn-primary pull-right\" (click) = 'addMaze()'>Yes!</button>\n     &nbsp; &nbsp;\n     <button type=\"submit\" class=\"btn btn-secondary pull-right\" (click) = 'cancelCreate()'>No!</button>\n   </div>\n   <canvas #canvas> </canvas>\n</div>\n\n<!--Submit message-->\n<div class=\"modal fade\" id=\"submitMessageModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\" role=\"document\">\n          <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Submit information</h5>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div class=\"modal-body\">\n                {{submitMessage}}\n              </div>\n              <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"\n                data-toggle=\"modal\">Cancel</button>\n              </div>\n          </div>\n      </div>\n</div>\n\n<!--ghost button-->\n<button type=\"button\" #modalSubmit data-toggle=\"modal\" data-target=\"#submitMessageModal\" [hidden] = 'true'>\n  test\n</button>\n</div>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/components/signup-page/signup-page.component.html":
/*!*********************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/components/signup-page/signup-page.component.html ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class = 'container signup'>\n<app-navbar></app-navbar>\n  <br/>\n  <br/>\n<form #formRef = 'ngForm'>\n  <div class=\"form-group\">\n    <label for=\"exampleInputUsername\">User Name:</label>\n    <input type=\"username\" class=\"form-control\" id=\"exampleInputUsername\" \n      [(ngModel)] = 'uname' name = 'username'\n      required placeholder=\"Enter username\">\n    <small id=\"usernameHelp\" class=\"form-text text-muted\">We'll never share your username with anyone else.</small>\n  </div>\n  <div class=\"form-group\">\n    <label for=\"exampleInputPassword\">Password</label>\n    <input type=\"password\" class=\"form-control\" id=\"exampleInputPassword\" \n      [(ngModel)] = 'password' name = 'password'\n      required placeholder=\"Enter password\">\n  </div>\n  <div *ngIf='password !== confirmPassword && confirmPassword' class=\"alert alert-warning\" role=\"alert\">\n    Password mismath!\n  </div>\n  <div class=\"form-group\">\n    <label for=\"exampleInputConfirmPassword\">Confirm Password</label>\n    <input type=\"password\" class=\"form-control\" id=\"exampleInputConfirmPassword\" \n      [(ngModel)] = 'confirmPassword' name = 'confirmPassword'\n      required placeholder=\"Confirm password\">\n  </div>\n  <button type=\"submit\" class=\"btn btn-primary pull-right\" (click) = 'signupCheck()'>Sign Up</button>\n  <div *ngIf='message' class=\"alert alert-warning\" role=\"alert\">\n    {{message}}\n  </div>\n</form>\n</div>\n"

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");



const routes = [];
let AppRoutingModule = class AppRoutingModule {
};
AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
    })
], AppRoutingModule);



/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let AppComponent = class AppComponent {
    constructor() {
        this.title = 'client';
    }
};
AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-root',
        template: __webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/index.js!./src/app/app.component.html"),
        styles: [__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")]
    })
], AppComponent);



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _app_routes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.routes */ "./src/app/app.routes.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _components_maze_list_maze_list_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/maze-list/maze-list.component */ "./src/app/components/maze-list/maze-list.component.ts");
/* harmony import */ var _components_login_page_login_page_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/login-page/login-page.component */ "./src/app/components/login-page/login-page.component.ts");
/* harmony import */ var _components_maze_single_maze_single_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/maze-single/maze-single.component */ "./src/app/components/maze-single/maze-single.component.ts");
/* harmony import */ var _components_signup_page_signup_page_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/signup-page/signup-page.component */ "./src/app/components/signup-page/signup-page.component.ts");
/* harmony import */ var _components_navbar_navbar_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/navbar/navbar.component */ "./src/app/components/navbar/navbar.component.ts");
/* harmony import */ var _components_maze_competition_maze_competition_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/maze-competition/maze-competition.component */ "./src/app/components/maze-competition/maze-competition.component.ts");
/* harmony import */ var _components_new_maze_new_maze_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/new-maze/new-maze.component */ "./src/app/components/new-maze/new-maze.component.ts");















let AppModule = class AppModule {
};
AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
        declarations: [
            _app_component__WEBPACK_IMPORTED_MODULE_7__["AppComponent"],
            _components_maze_list_maze_list_component__WEBPACK_IMPORTED_MODULE_8__["MazeListComponent"],
            _components_login_page_login_page_component__WEBPACK_IMPORTED_MODULE_9__["LoginPageComponent"],
            _components_maze_single_maze_single_component__WEBPACK_IMPORTED_MODULE_10__["MazeSingleComponent"],
            _components_signup_page_signup_page_component__WEBPACK_IMPORTED_MODULE_11__["SignupPageComponent"],
            _components_navbar_navbar_component__WEBPACK_IMPORTED_MODULE_12__["NavbarComponent"],
            _components_maze_competition_maze_competition_component__WEBPACK_IMPORTED_MODULE_13__["MazeCompetitionComponent"],
            _components_new_maze_new_maze_component__WEBPACK_IMPORTED_MODULE_14__["NewMazeComponent"]
        ],
        imports: [
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClientModule"],
            _app_routing_module__WEBPACK_IMPORTED_MODULE_6__["AppRoutingModule"],
            _app_routes__WEBPACK_IMPORTED_MODULE_3__["routing"]
        ],
        providers: [],
        bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_7__["AppComponent"]]
    })
], AppModule);



/***/ }),

/***/ "./src/app/app.routes.ts":
/*!*******************************!*\
  !*** ./src/app/app.routes.ts ***!
  \*******************************/
/*! exports provided: routing */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routing", function() { return routing; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _components_login_page_login_page_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/login-page/login-page.component */ "./src/app/components/login-page/login-page.component.ts");
/* harmony import */ var _components_signup_page_signup_page_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/signup-page/signup-page.component */ "./src/app/components/signup-page/signup-page.component.ts");
/* harmony import */ var _components_maze_list_maze_list_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/maze-list/maze-list.component */ "./src/app/components/maze-list/maze-list.component.ts");
/* harmony import */ var _components_maze_single_maze_single_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/maze-single/maze-single.component */ "./src/app/components/maze-single/maze-single.component.ts");
/* harmony import */ var _components_maze_competition_maze_competition_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/maze-competition/maze-competition.component */ "./src/app/components/maze-competition/maze-competition.component.ts");
/* harmony import */ var _components_new_maze_new_maze_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/new-maze/new-maze.component */ "./src/app/components/new-maze/new-maze.component.ts");







const routes = [
    // Homework
    {
        path: '',
        redirectTo: 'login',
        pathMatch: 'full'
    },
    {
        path: 'login',
        component: _components_login_page_login_page_component__WEBPACK_IMPORTED_MODULE_1__["LoginPageComponent"]
    },
    {
        path: 'signup',
        component: _components_signup_page_signup_page_component__WEBPACK_IMPORTED_MODULE_2__["SignupPageComponent"]
    },
    {
        path: 'login/:uname/mazes',
        component: _components_maze_list_maze_list_component__WEBPACK_IMPORTED_MODULE_3__["MazeListComponent"]
    },
    {
        path: 'login/:uname/mazes/:mazeid/single',
        component: _components_maze_single_maze_single_component__WEBPACK_IMPORTED_MODULE_4__["MazeSingleComponent"]
    },
    {
        path: 'login/:uname/mazes/:mazeid/room/:roomid',
        component: _components_maze_competition_maze_competition_component__WEBPACK_IMPORTED_MODULE_5__["MazeCompetitionComponent"]
    },
    {
        path: 'login/:uname/newmaze',
        component: _components_new_maze_new_maze_component__WEBPACK_IMPORTED_MODULE_6__["NewMazeComponent"]
    }
    // {
    //     path: '**',
    //     redirectTo: 'login'
    // }
];
const routing = _angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"].forRoot(routes);


/***/ }),

/***/ "./src/app/components/login-page/login-page.component.css":
/*!****************************************************************!*\
  !*** ./src/app/components/login-page/login-page.component.css ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".login {\n    border: 1px;\n    margin: auto;\n    display: block;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9sb2dpbi1wYWdlL2xvZ2luLXBhZ2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osY0FBYztBQUNsQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbG9naW4tcGFnZS9sb2dpbi1wYWdlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubG9naW4ge1xuICAgIGJvcmRlcjogMXB4O1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBkaXNwbGF5OiBibG9jaztcbn0iXX0= */"

/***/ }),

/***/ "./src/app/components/login-page/login-page.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/components/login-page/login-page.component.ts ***!
  \***************************************************************/
/*! exports provided: LoginPageComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginPageComponent", function() { return LoginPageComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/auth.service */ "./src/app/services/auth.service.ts");




let LoginPageComponent = class LoginPageComponent {
    constructor(authService, router) {
        this.authService = authService;
        this.router = router;
        this.toShow = false;
    }
    ngOnInit() {
        this.authService.homecheck()
            .then(res => {
            this.router.navigate(['/login', res, 'mazes']);
        }, err => {
            this.toShow = true;
            this.uname = '';
            this.password = '';
            this.message = '';
        });
        this.uname = '';
        this.password = '';
        this.message = '';
    }
    loginCheck() {
        if (!this.uname) {
            this.message = 'Please enter username!';
            return;
        }
        if (!this.password) {
            this.message = 'Please enter password!';
            return;
        }
        this.authService.login(this.uname, this.password)
            .then((res) => {
            this.message = 'Correct';
            this.login();
        }, (err) => {
            this.message = 'Incorrect username or password!';
        });
        // let user = this.users.find(user => user.uname === this.uname);
        // console.log(user);
        // if(user){
        //   if(user.password === this.password){
        //     this.login();
        //   } else {
        //     this.message = 'Incorrect password!'
        //   }
        // } else {
        //   this.message = 'Cannot find username!'
        // }
    }
    login() {
        this.router.navigate(['/login', this.uname, 'mazes']);
    }
    ngOnDestroy() {
        // this.subscriptionUsers.unsubscribe();
    }
};
LoginPageComponent.ctorParameters = () => [
    { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }
];
LoginPageComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-login-page',
        template: __webpack_require__(/*! raw-loader!./login-page.component.html */ "./node_modules/raw-loader/index.js!./src/app/components/login-page/login-page.component.html"),
        styles: [__webpack_require__(/*! ./login-page.component.css */ "./src/app/components/login-page/login-page.component.css")]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
], LoginPageComponent);



/***/ }),

/***/ "./src/app/components/maze-competition/maze-competition.component.css":
/*!****************************************************************************!*\
  !*** ./src/app/components/maze-competition/maze-competition.component.css ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "canvas { \n    border: 1px solid #000;\n    margin-left: auto;\n    margin-right: auto;\n    display: block;\n}\n.timer {\n    text-align: center;\n    font-size: 40px;\n}\n.start {\n    font-size: 20px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9tYXplLWNvbXBldGl0aW9uL21hemUtY29tcGV0aXRpb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHNCQUFzQjtJQUN0QixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLGNBQWM7QUFDbEI7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixlQUFlO0FBQ25CO0FBRUE7SUFDSSxlQUFlO0FBQ25CIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9tYXplLWNvbXBldGl0aW9uL21hemUtY29tcGV0aXRpb24uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImNhbnZhcyB7IFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xufVxuLnRpbWVyIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiA0MHB4O1xufVxuXG4uc3RhcnQge1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/components/maze-competition/maze-competition.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/components/maze-competition/maze-competition.component.ts ***!
  \***************************************************************************/
/*! exports provided: MazeCompetitionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MazeCompetitionComponent", function() { return MazeCompetitionComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _services_data_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/data.service */ "./src/app/services/data.service.ts");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _services_competition_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/competition.service */ "./src/app/services/competition.service.ts");




// import { MAZES } from '../../mock-maze';



let MazeCompetitionComponent = class MazeCompetitionComponent {
    constructor(route, router, dataService, authService, competitionService) {
        this.route = route;
        this.router = router;
        this.dataService = dataService;
        this.authService = authService;
        this.competitionService = competitionService;
        this.start_on = false;
        this.to_show = false;
        this.is_waiting = false;
        this.countdowntime = 5;
        this.winner_name = '';
        this.winner_time = { value: 0 };
        // oppo info
        this.oppo_info = {
            is_on: false,
            is_waiting: false,
            prev: -1,
            cur: -1,
            uname: '',
            flag_connect: false,
            flag_countdown: false,
            flag_position: false,
            flag_disconnect: false,
            flag_gameend: false
        };
        // falsh info
        this.flash_on = false;
        // record time
        this.timecount = { value: 0 };
    }
    ngOnInit() {
        console.log('start!');
        this.route.params.subscribe(params => {
            // this.maze = MAZES.find((maze) => maze.id === +params['mazeid']);
            this.uname = params['uname'];
            this.roomId = +params['roomid'];
            this.authService.checktoken(this.uname)
                .then(res => { this.to_show = true; }, err => {
                // this.to_show = true
                this.router.navigate(['/login']);
            });
            this.dataService.getmaze(+params['mazeid'])
                .then(maze => {
                this.maze = maze;
                this.nodesize = 500 / this.maze.width;
                this.cur = this.maze.start;
                this.oppo_info.prev = this.cur;
                this.oppo_info.cur = this.cur;
                this.createcanvas();
                this.competitionService.init(this.oppo_info, this.roomId, this.winner_time);
                this.competitionService.connect(this.uname);
            });
        });
    }
    ngAfterViewInit() {
        // console.log(this.canvas);
        // console.log(this.canvas_oppo);
    }
    ;
    ngDoCheck() {
        if (this.oppo_info.flag_connect) {
            this.oppo_info.flag_connect = false;
            this.oppo_info.cur = this.maze.start;
            this.oppo_info.prev = this.maze.start;
            this.disconnectModalCancel.nativeElement.click();
        }
        if (this.oppo_info.flag_countdown) {
            this.oppo_info.flag_countdown = false;
            this.countdown();
        }
        if (this.oppo_info.flag_position) {
            this.oppo_info.flag_position = false;
            this.drawnode(this.cx_oppo, this.oppo_info.prev, 'white');
            this.drawnode(this.cx_oppo, this.oppo_info.cur, 'red');
            this.oppo_info.prev = this.oppo_info.cur;
        }
        if (this.oppo_info.flag_disconnect) {
            this.oppo_info.flag_disconnect = false;
            if (this.start_on === true) {
                this.StartOrReset();
                this.timecount.value = 0;
                this.winner_name = '';
            }
            this.gameendModalCancel.nativeElement.click();
            this.modalCountdown.nativeElement.click();
            this.modalDisconnect.nativeElement.click();
        }
        if (this.oppo_info.flag_gameend) {
            this.oppo_info.flag_gameend = false;
            this.StartOrReset();
            this.modalGameend.nativeElement.click();
        }
    }
    createcanvas() {
        const canvasEl = this.canvas.nativeElement;
        ;
        const canvas_oppoEl = this.canvas_oppo.nativeElement;
        ;
        this.cx = canvasEl.getContext('2d');
        this.cx_oppo = canvas_oppoEl.getContext('2d');
        canvasEl.width = this.nodesize * this.maze.width;
        canvasEl.height = this.nodesize * this.maze.height;
        canvas_oppoEl.width = this.nodesize * this.maze.width;
        canvas_oppoEl.height = this.nodesize * this.maze.height;
        // initial color
        for (let i = 0; i < this.maze.graph.length; i++) {
            if (this.maze.graph[i] === '0') {
                this.drawnode(this.cx_oppo, i, 'black');
                this.drawnode(this.cx, i, 'black');
            }
            else if (this.maze.start === i) {
                this.drawnode(this.cx_oppo, i, 'red');
                this.drawnode(this.cx, i, 'red');
            }
            else if (this.maze.end === i) {
                this.drawnode(this.cx_oppo, i, 'blue');
                this.drawnode(this.cx, i, 'blue');
            }
        }
        ;
    }
    // function to draw each node in maze
    drawnode(instance, i, color) {
        let x = i % this.maze.width;
        let y = (i - x) / this.maze.width;
        instance.fillStyle = color;
        instance.fillRect(x * this.nodesize, y * this.nodesize, this.nodesize, this.nodesize);
    }
    ;
    // make current node to flash
    flashnode() {
        this.flash_on = !this.flash_on;
        let color = 'white';
        if (this.flash_on)
            color = 'red';
        this.drawnode(this.cx_oppo, this.oppo_info.cur, color);
        this.drawnode(this.cx, this.cur, color);
    }
    // waiting for oppoent
    waiting() {
        this.is_waiting = true;
        this.competitionService.ready(true);
    }
    // count down
    countdown() {
        if (this.is_waiting && this.oppo_info.is_waiting) {
            this.is_waiting = false;
            this.oppo_info.is_waiting = false;
            this.modalOn.nativeElement.click();
            var countdownInterval = setInterval(() => {
                this.countdowntime -= 1;
                console.log(this.countdowntime);
                if (this.countdowntime === 0) {
                    this.countdowntime = 5;
                    this.modalCountdown.nativeElement.click();
                    if (this.oppo_info.is_on) {
                        this.StartOrReset();
                    }
                    clearInterval(countdownInterval);
                }
            }, 1000);
        }
    }
    // start or reset the game
    StartOrReset() {
        if (!this.start_on) {
            this.timerCount = setInterval(() => {
                this.timecount.value += 0.01;
            }, 10);
            this.timerFlash = setInterval(() => {
                this.flashnode();
            }, 400);
            this.start_on = true;
            this.subscriptionKeypress = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["fromEvent"])(document, 'keydown').subscribe(e => {
                this.handleKeyDown(e);
            });
        }
        else {
            this.start_on = false;
            clearInterval(this.timerFlash);
            clearInterval(this.timerCount);
            this.subscriptionKeypress.unsubscribe();
            if (this.winner_name === '') {
                this.winner_name = this.oppo_info.uname;
            }
            if (this.cur != this.maze.end) {
                this.drawnode(this.cx, this.cur, 'white');
            }
            if (this.oppo_info.cur != this.maze.end) {
                this.drawnode(this.cx_oppo, this.oppo_info.cur, 'white');
            }
            this.drawnode(this.cx, this.maze.end, 'blue');
            this.drawnode(this.cx_oppo, this.maze.end, 'blue');
            this.cur = this.maze.start;
            this.oppo_info.cur = this.maze.start;
            this.oppo_info.prev = this.maze.start;
            this.drawnode(this.cx, this.cur, 'red');
            this.drawnode(this.cx_oppo, this.cur, 'red');
        }
    }
    //close gameend modal
    gameendClose() {
        this.timecount.value = 0;
        this.winner_time.value = 0;
        this.winner_name = '';
    }
    // move the position when press keys
    handleKeyDown(event) {
        // left, up, right, down
        let move_list = [-1, -this.maze.width, 1, this.maze.width];
        let id = (+event.keyCode - 37);
        if (id >= 0 && id < 4) {
            if (id !== 3) {
                event.preventDefault();
            }
            let nex = this.cur + move_list[id];
            if (nex >= 0 && nex < this.maze.graph.length && this.maze.graph[nex] === "1") {
                this.drawnode(this.cx, this.cur, 'white');
                this.cur = nex;
                if (this.cur === this.maze.end) {
                    this.winner_name = this.uname;
                    this.competitionService.gameend(this.timecount);
                    // this.gameend();
                }
                else {
                    this.competitionService.updateLocation(this.cur);
                    this.drawnode(this.cx, this.cur, 'red');
                }
            }
        }
        ;
    }
    // clear timer
    ngOnDestroy() {
        if (this.timerFlash) {
            clearInterval(this.timerFlash);
        }
        if (this.timerCount) {
            clearInterval(this.timerCount);
        }
        if (this.subscriptionKeypress) {
            this.subscriptionKeypress.unsubscribe();
        }
    }
};
MazeCompetitionComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] },
    { type: _services_data_service__WEBPACK_IMPORTED_MODULE_4__["DataService"] },
    { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"] },
    { type: _services_competition_service__WEBPACK_IMPORTED_MODULE_6__["CompetitionService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('canvas_oppo', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
], MazeCompetitionComponent.prototype, "canvas_oppo", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('canvas', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
], MazeCompetitionComponent.prototype, "canvas", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('modalOn', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
], MazeCompetitionComponent.prototype, "modalOn", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('modalCountdown', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
], MazeCompetitionComponent.prototype, "modalCountdown", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('modalGameend', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
], MazeCompetitionComponent.prototype, "modalGameend", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('modalDisconnect', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
], MazeCompetitionComponent.prototype, "modalDisconnect", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('gameendModalCancel', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
], MazeCompetitionComponent.prototype, "gameendModalCancel", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('disconnectModalCancel', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
], MazeCompetitionComponent.prototype, "disconnectModalCancel", void 0);
MazeCompetitionComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-maze-competition',
        template: __webpack_require__(/*! raw-loader!./maze-competition.component.html */ "./node_modules/raw-loader/index.js!./src/app/components/maze-competition/maze-competition.component.html"),
        styles: [__webpack_require__(/*! ./maze-competition.component.css */ "./src/app/components/maze-competition/maze-competition.component.css")]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
        _services_data_service__WEBPACK_IMPORTED_MODULE_4__["DataService"],
        _services_auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"],
        _services_competition_service__WEBPACK_IMPORTED_MODULE_6__["CompetitionService"]])
], MazeCompetitionComponent);



/***/ }),

/***/ "./src/app/components/maze-list/maze-list.component.css":
/*!**************************************************************!*\
  !*** ./src/app/components/maze-list/maze-list.component.css ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = " .badge.size {\n\tpadding-top: 0.1em;\n\tcolor: #fbfdfa;\n\tfont-size: 15px;\n\tmargin: auto;\n}\n .title {\n\tfont-size: 20px;\n}\n .size-small {\n\tbackground-color: #42ebf4;\n}\n .size-medium {\n\tbackground-color: #92cf5c;\n}\n .size-large {\n    background-color: #dd0d1e;\n}\n .choose {\n   font-size: 25px;\n}\n .single {\n\tpadding-top: 0.6em;\n\tcolor: #fbfdfa;\n\tfont-size: 12px;\n\tbackground-color: #42ebf4;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9tYXplLWxpc3QvbWF6ZS1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkNBQUM7Q0FDQSxrQkFBa0I7Q0FDbEIsY0FBYztDQUNkLGVBQWU7Q0FDZixZQUFZO0FBQ2I7Q0FDQztDQUNBLGVBQWU7QUFDaEI7Q0FDQztDQUNBLHlCQUF5QjtBQUMxQjtDQUNDO0NBQ0EseUJBQXlCO0FBQzFCO0NBQ0M7SUFDRyx5QkFBeUI7QUFDN0I7Q0FDQTtHQUNHLGVBQWU7QUFDbEI7Q0FFQztDQUNBLGtCQUFrQjtDQUNsQixjQUFjO0NBQ2QsZUFBZTtDQUNmLHlCQUF5QjtBQUMxQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbWF6ZS1saXN0L21hemUtbGlzdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiIC5iYWRnZS5zaXplIHtcblx0cGFkZGluZy10b3A6IDAuMWVtO1xuXHRjb2xvcjogI2ZiZmRmYTtcblx0Zm9udC1zaXplOiAxNXB4O1xuXHRtYXJnaW46IGF1dG87XG59XG4gLnRpdGxlIHtcblx0Zm9udC1zaXplOiAyMHB4O1xufVxuIC5zaXplLXNtYWxsIHtcblx0YmFja2dyb3VuZC1jb2xvcjogIzQyZWJmNDtcbn1cbiAuc2l6ZS1tZWRpdW0ge1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjOTJjZjVjO1xufVxuIC5zaXplLWxhcmdlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGQwZDFlO1xufVxuLmNob29zZSB7XG4gICBmb250LXNpemU6IDI1cHg7XG59XG5cbiAuc2luZ2xlIHtcblx0cGFkZGluZy10b3A6IDAuNmVtO1xuXHRjb2xvcjogI2ZiZmRmYTtcblx0Zm9udC1zaXplOiAxMnB4O1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjNDJlYmY0O1xufSJdfQ== */"

/***/ }),

/***/ "./src/app/components/maze-list/maze-list.component.ts":
/*!*************************************************************!*\
  !*** ./src/app/components/maze-list/maze-list.component.ts ***!
  \*************************************************************/
/*! exports provided: MazeListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MazeListComponent", function() { return MazeListComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _services_data_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/data.service */ "./src/app/services/data.service.ts");
/* harmony import */ var _services_room_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/room.service */ "./src/app/services/room.service.ts");






let MazeListComponent = class MazeListComponent {
    constructor(route, router, dataService, authService, roomService) {
        this.route = route;
        this.router = router;
        this.dataService = dataService;
        this.authService = authService;
        this.roomService = roomService;
        this.to_show = false;
        this.showError = false;
    }
    ngOnInit() {
        this.route.params.subscribe(params => {
            this.uname = params['uname'];
            this.authService.checktoken(this.uname)
                .then(res => { this.to_show = true; }, err => {
                this.router.navigate(['/login']);
            });
            this.subsriptionMazes = this.dataService.getmazes()
                .subscribe(mazes => {
                this.mazes = mazes;
            });
            // this.to_show = true;
        });
    }
    ngOnDestroy() {
        this.subsriptionMazes.unsubscribe();
    }
    createRoomid() {
        this.roomService.getRoomid()
            .then(roomid => this.roomidToCreate = +roomid.content);
        // data === parseInt(data, 10)
    }
    createRoom(id) {
        this.roomService.createRoom(this.uname, this.roomidToCreate, this.mazeid)
            .then(roomid => {
            this.router.navigate(['/login', this.uname, 'mazes', this.mazeid, 'room', this.roomidToCreate]);
        }, error => {
            this.message = 'The room is already in used. Please recreate.';
            this.modalOn.nativeElement.click();
            console.log(this.message);
        });
        // data === parseInt(data, 10)
    }
    joinRoom(id) {
        this.roomService.joinRoom(this.uname, +this.roomidToConnect, this.mazeid)
            .then(roomid => {
            this.router.navigate(['/login', this.uname, 'mazes', this.mazeid, 'room', this.roomidToConnect]);
        }, error => {
            this.message = 'Room is not avaiable now!';
            this.modalOn.nativeElement.click();
            console.log(this.message);
        });
        // data === parseInt(data, 10)
    }
    mazeIdSelect(mazeid) {
        this.mazeid = mazeid;
    }
    checkValidId() {
        if (this.roomidToConnect === '' || /^\d+$/.test(this.roomidToConnect)) {
            this.showError = false;
        }
        else {
            this.showError = true;
        }
    }
    singleMode(id) {
        this.router.navigate(['/login', this.uname, 'mazes', id, 'single']);
    }
    competitionMode(id) {
        this.router.navigate(['/login', this.uname, 'mazes', id, 'single']);
    }
};
MazeListComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] },
    { type: _services_data_service__WEBPACK_IMPORTED_MODULE_4__["DataService"] },
    { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"] },
    { type: _services_room_service__WEBPACK_IMPORTED_MODULE_5__["RoomService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('modalOn', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
], MazeListComponent.prototype, "modalOn", void 0);
MazeListComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-maze-list',
        template: __webpack_require__(/*! raw-loader!./maze-list.component.html */ "./node_modules/raw-loader/index.js!./src/app/components/maze-list/maze-list.component.html"),
        styles: [__webpack_require__(/*! ./maze-list.component.css */ "./src/app/components/maze-list/maze-list.component.css")]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
        _services_data_service__WEBPACK_IMPORTED_MODULE_4__["DataService"],
        _services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"],
        _services_room_service__WEBPACK_IMPORTED_MODULE_5__["RoomService"]])
], MazeListComponent);



/***/ }),

/***/ "./src/app/components/maze-single/maze-single.component.css":
/*!******************************************************************!*\
  !*** ./src/app/components/maze-single/maze-single.component.css ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "canvas { \n    border: 1px solid #000;\n    margin-left: auto;\n    margin-right: auto;\n    display: block;\n}\n.timer {\n    text-align: center;\n    font-size: 40px;\n}\n.start {\n    font-size: 20px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9tYXplLXNpbmdsZS9tYXplLXNpbmdsZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksc0JBQXNCO0lBQ3RCLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsY0FBYztBQUNsQjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLGVBQWU7QUFDbkI7QUFFQTtJQUNJLGVBQWU7QUFDbkIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL21hemUtc2luZ2xlL21hemUtc2luZ2xlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJjYW52YXMgeyBcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjMDAwO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICBkaXNwbGF5OiBibG9jaztcbn1cbi50aW1lciB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogNDBweDtcbn1cblxuLnN0YXJ0IHtcbiAgICBmb250LXNpemU6IDIwcHg7XG59Il19 */"

/***/ }),

/***/ "./src/app/components/maze-single/maze-single.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/components/maze-single/maze-single.component.ts ***!
  \*****************************************************************/
/*! exports provided: MazeSingleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MazeSingleComponent", function() { return MazeSingleComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _services_data_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/data.service */ "./src/app/services/data.service.ts");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/auth.service */ "./src/app/services/auth.service.ts");




// import { MAZES } from '../../mock-maze';


let MazeSingleComponent = class MazeSingleComponent {
    constructor(route, router, dataService, authService) {
        this.route = route;
        this.router = router;
        this.dataService = dataService;
        this.authService = authService;
        this.start_on = false;
        this.to_show = false;
        this.hasRestore = false;
        // falsh info
        this.flash_on = false;
        // record time
        this.timecount = 0;
    }
    ngOnInit() {
        console.log('start!');
        this.route.params.subscribe(params => {
            // this.maze = MAZES.find((maze) => maze.id === +params['mazeid']);
            this.uname = params['uname'];
            this.authService.checktoken(this.uname)
                .then(res => { this.to_show = true; }, err => {
                this.router.navigate(['/login']);
            });
            this.dataService.getmaze(+params['mazeid'])
                .then(maze => {
                this.maze = maze;
                console.log(this.maze.width);
                this.nodesize = 450 / this.maze.width;
                // check if cur is stored
                this.dataService.restoreProcess(this.uname, +params['mazeid'])
                    .then(data => {
                    this.cur = data.cur;
                    this.timecount = +data.timecount;
                    this.modalOn.nativeElement.click();
                    this.createcanvas();
                }, err => {
                    this.cur = this.maze.start;
                    this.timecount = 0;
                    this.createcanvas();
                });
                this.buttonmessage = 'Start the game!';
            });
        });
    }
    ngAfterViewInit() {
    }
    ;
    createcanvas() {
        const canvasEl = this.canvas.nativeElement;
        this.cx = canvasEl.getContext('2d');
        canvasEl.width = this.nodesize * this.maze.width;
        canvasEl.height = this.nodesize * this.maze.height;
        // initial color
        for (let i = 0; i < this.maze.graph.length; i++) {
            if (this.maze.graph[i] === '0') {
                this.drawnode(i, 'black');
            }
            else if (this.cur === i) {
                this.drawnode(i, 'red');
            }
            else if (this.maze.end === i) {
                this.drawnode(i, 'blue');
            }
        }
        ;
    }
    // function to draw each node in maze
    drawnode(i, color) {
        let x = i % this.maze.width;
        let y = (i - x) / this.maze.width;
        this.cx.fillStyle = color;
        this.cx.fillRect(x * this.nodesize, y * this.nodesize, this.nodesize, this.nodesize);
    }
    ;
    // make current node to flash
    flashnode() {
        this.flash_on = !this.flash_on;
        let color = 'white';
        if (this.flash_on)
            color = 'red';
        this.drawnode(this.cur, color);
    }
    // start or reset the game
    StartOrReset() {
        if (!this.start_on) {
            this.timerCount = setInterval(() => {
                this.timecount += 0.01;
            }, 10);
            this.timerFlash = setInterval(() => {
                this.flashnode();
            }, 400);
            this.start_on = true;
            this.subscriptionKeypress = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["fromEvent"])(document, 'keydown').subscribe(e => {
                this.handleKeyDown(e);
            });
            this.buttonmessage = 'Reset the game!';
        }
        else {
            this.timecount = 0;
            this.start_on = false;
            clearInterval(this.timerFlash);
            clearInterval(this.timerCount);
            this.subscriptionKeypress.unsubscribe();
            if (this.cur != this.maze.end)
                this.drawnode(this.cur, 'white');
            this.cur = this.maze.start;
            this.drawnode(this.cur, 'red');
            this.buttonmessage = 'Start the game!';
        }
    }
    // end the game
    gameend() {
        clearInterval(this.timerFlash);
        clearInterval(this.timerCount);
        this.subscriptionKeypress.unsubscribe();
    }
    // move the position when press keys
    handleKeyDown(event) {
        // left, up, right, down
        console.log('occurs!');
        let move_list = [-1, -this.maze.width, 1, this.maze.width];
        let id = (+event.keyCode - 37);
        if (id >= 0 && id < 4) {
            if (id !== 3) {
                event.preventDefault();
            }
            let nex = this.cur + move_list[id];
            if (nex >= 0 && nex < this.maze.graph.length && this.maze.graph[nex] === "1") {
                this.drawnode(this.cur, 'white');
                this.cur = nex;
                if (this.cur === this.maze.end) {
                    this.gameend();
                }
                else {
                    this.drawnode(this.cur, 'red');
                }
            }
        }
        ;
    }
    saveProcess() {
        if (this.start_on && this.timecount !== 0 && this.cur !== this.maze.end) {
            console.log('hi');
            this.dataService.saveProcess(this.uname, this.maze.id, this.cur, this.timecount.toFixed(2));
        }
    }
    resetProcess() {
        this.drawnode(this.cur, 'white');
        this.cur = this.maze.start;
        this.drawnode(this.cur, 'red');
        this.timecount = 0;
    }
    // clear timer
    ngOnDestroy() {
        console.log('leave!');
        if (this.timerFlash) {
            clearInterval(this.timerFlash);
        }
        if (this.timerCount) {
            clearInterval(this.timerCount);
        }
        if (this.subscriptionKeypress) {
            this.subscriptionKeypress.unsubscribe();
        }
    }
};
MazeSingleComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] },
    { type: _services_data_service__WEBPACK_IMPORTED_MODULE_4__["DataService"] },
    { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('canvas', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
], MazeSingleComponent.prototype, "canvas", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('modalOn', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
], MazeSingleComponent.prototype, "modalOn", void 0);
MazeSingleComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-maze-single',
        template: __webpack_require__(/*! raw-loader!./maze-single.component.html */ "./node_modules/raw-loader/index.js!./src/app/components/maze-single/maze-single.component.html"),
        styles: [__webpack_require__(/*! ./maze-single.component.css */ "./src/app/components/maze-single/maze-single.component.css")]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
        _services_data_service__WEBPACK_IMPORTED_MODULE_4__["DataService"],
        _services_auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"]])
], MazeSingleComponent);



/***/ }),

/***/ "./src/app/components/navbar/navbar.component.css":
/*!********************************************************!*\
  !*** ./src/app/components/navbar/navbar.component.css ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbmF2YmFyL25hdmJhci5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/components/navbar/navbar.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/navbar/navbar.component.ts ***!
  \*******************************************************/
/*! exports provided: NavbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavbarComponent", function() { return NavbarComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/auth.service */ "./src/app/services/auth.service.ts");




let NavbarComponent = class NavbarComponent {
    constructor(router, authService) {
        this.router = router;
        this.authService = authService;
        this.signUpShow = false;
        this.loginShow = false;
        this.logoutShow = true;
    }
    ngOnInit() {
        if (this.router.url === '/login') {
            this.logoutShow = false;
            this.signUpShow = true;
        }
        else if (this.router.url === '/signup') {
            this.logoutShow = false;
            this.loginShow = true;
        }
    }
    signup() {
        this.router.navigate(['/signup']);
    }
    login() {
        this.router.navigate(['/login']);
    }
    logout() {
        this.authService.logout();
        this.router.navigate(['/login']);
    }
};
NavbarComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] },
    { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"] }
];
NavbarComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-navbar',
        template: __webpack_require__(/*! raw-loader!./navbar.component.html */ "./node_modules/raw-loader/index.js!./src/app/components/navbar/navbar.component.html"),
        styles: [__webpack_require__(/*! ./navbar.component.css */ "./src/app/components/navbar/navbar.component.css")]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
        _services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"]])
], NavbarComponent);



/***/ }),

/***/ "./src/app/components/new-maze/new-maze.component.css":
/*!************************************************************!*\
  !*** ./src/app/components/new-maze/new-maze.component.css ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "canvas { \n    border: 1px solid #000;\n    margin-left: auto;\n    margin-right: auto;\n    display: block;\n}\n\n.to_submit {\n    text-align: center;\n    font-size: 40px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9uZXctbWF6ZS9uZXctbWF6ZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksc0JBQXNCO0lBQ3RCLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsY0FBYztBQUNsQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixlQUFlO0FBQ25CIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9uZXctbWF6ZS9uZXctbWF6ZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiY2FudmFzIHsgXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzAwMDtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gICAgZGlzcGxheTogYmxvY2s7XG59XG5cbi50b19zdWJtaXQge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDQwcHg7XG59Il19 */"

/***/ }),

/***/ "./src/app/components/new-maze/new-maze.component.ts":
/*!***********************************************************!*\
  !*** ./src/app/components/new-maze/new-maze.component.ts ***!
  \***********************************************************/
/*! exports provided: NewMazeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewMazeComponent", function() { return NewMazeComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _services_data_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/data.service */ "./src/app/services/data.service.ts");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/auth.service */ "./src/app/services/auth.service.ts");





const DEFAULT_MAZE = Object.freeze({
    'id': 0,
    'graph': '',
    'width': 0,
    'height': 0,
    'start': 0,
    'end': 0,
    'size': ''
});
let NewMazeComponent = class NewMazeComponent {
    constructor(route, router, dataService, authService) {
        this.route = route;
        this.router = router;
        this.dataService = dataService;
        this.authService = authService;
        this.to_show = false;
        this.maze = Object.assign({}, DEFAULT_MAZE);
        this.canvas_on = false;
        this.create_on = true;
    }
    ngOnInit() {
        this.route.params.subscribe(params => {
            // this.maze = MAZES.find((maze) => maze.id === +params['mazeid']);
            this.uname = params['uname'];
            this.authService.checktoken(this.uname)
                .then(res => { this.to_show = true; }, err => {
                this.router.navigate(['/login']);
            });
        });
    }
    createMaze() {
        if (this.widthMessage) {
            this.message = this.widthMessage;
        }
        else if (this.heightMessage) {
            this.message = this.heightMessage;
        }
        else if (+this.width / (+this.height) < 0.8) {
            this.message = 'width is too small compare to height!';
        }
        else if (+this.width / (+this.height) > 1.2) {
            this.message = 'height is too small compare to witdth!';
        }
        else {
            this.message = '';
            this.dataService.createmaze(+this.width, +this.height)
                .then(res => {
                this.maze = res;
                this.canvas_on = true;
                this.width = '';
                this.height = '';
                this.nodesize = 500 / this.maze.width;
                this.create_on = false;
                this.createcanvas();
            }, err => {
                console.log('Cannot create maze');
            });
        }
    }
    createcanvas() {
        const canvasEl = this.canvas.nativeElement;
        this.cx = canvasEl.getContext('2d');
        canvasEl.width = this.nodesize * this.maze.width;
        canvasEl.height = this.nodesize * this.maze.height;
        // initial color
        for (let i = 0; i < this.maze.graph.length; i++) {
            if (this.maze.graph[i] === '0') {
                this.drawnode(i, 'black');
            }
            else if (this.maze.start === i) {
                this.drawnode(i, 'red');
            }
            else if (this.maze.end === i) {
                this.drawnode(i, 'blue');
            }
        }
        ;
    }
    addMaze() {
        this.dataService.addmaze(this.maze)
            .then(res => {
            this.submitMessage = 'Successfully add the maze to maze list!';
            this.modalSubmit.nativeElement.click();
            this.canvas_on = false;
            this.create_on = true;
            this.maze = Object.assign({}, DEFAULT_MAZE);
        }, err => {
            this.submitMessage = 'Cannot add this maze to maze list!';
            this.modalSubmit.nativeElement.click();
            this.canvas_on = false;
            this.create_on = true;
            this.maze = Object.assign({}, DEFAULT_MAZE);
        });
    }
    cancelCreate() {
        this.canvas_on = false;
        this.create_on = true;
    }
    drawnode(i, color) {
        let x = i % this.maze.width;
        let y = (i - x) / this.maze.width;
        this.cx.fillStyle = color;
        this.cx.fillRect(x * this.nodesize, y * this.nodesize, this.nodesize, this.nodesize);
    }
    ;
    checkValidWidth() {
        if (this.width) {
            if (/^\d+$/.test(this.width)) {
                var value = Number(this.width);
                if (this.width !== '0' && this.width[0] === '0') {
                    this.widthMessage = 'The width cannot start with 0.';
                }
                else if (value < 5) {
                    this.widthMessage = 'The width should be at least 5.';
                }
                else if (value > 79) {
                    this.widthMessage = 'The width should be at most 79.';
                }
                else if (value % 2 === 0) {
                    this.widthMessage = 'The width should an odd number.';
                }
                else {
                    this.widthMessage = '';
                }
            }
            else {
                this.widthMessage = 'The width must be a positive integer without +.';
            }
        }
        else {
            this.widthMessage = '';
        }
    }
    checkValidHeight() {
        if (this.height) {
            if (/^\d+$/.test(this.height)) {
                var value = Number(this.height);
                if (this.height !== '0' && this.height[0] === '0') {
                    this.heightMessage = 'The height cannot start with 0.';
                }
                else if (value < 5) {
                    this.heightMessage = 'The height should be at least 5.';
                }
                else if (value > 79) {
                    this.heightMessage = 'The height should be at most 79.';
                }
                else if (value % 2 === 0) {
                    this.heightMessage = 'The height should an odd number.';
                }
                else {
                    this.heightMessage = '';
                }
            }
            else {
                this.heightMessage = 'The height must be a positive integer without +.';
            }
        }
        else {
            this.heightMessage = '';
        }
    }
};
NewMazeComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] },
    { type: _services_data_service__WEBPACK_IMPORTED_MODULE_3__["DataService"] },
    { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('canvas', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
], NewMazeComponent.prototype, "canvas", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('modalSubmit', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
], NewMazeComponent.prototype, "modalSubmit", void 0);
NewMazeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-new-maze',
        template: __webpack_require__(/*! raw-loader!./new-maze.component.html */ "./node_modules/raw-loader/index.js!./src/app/components/new-maze/new-maze.component.html"),
        styles: [__webpack_require__(/*! ./new-maze.component.css */ "./src/app/components/new-maze/new-maze.component.css")]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
        _services_data_service__WEBPACK_IMPORTED_MODULE_3__["DataService"],
        _services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"]])
], NewMazeComponent);



/***/ }),

/***/ "./src/app/components/signup-page/signup-page.component.css":
/*!******************************************************************!*\
  !*** ./src/app/components/signup-page/signup-page.component.css ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".signup {\n    border: 1px;\n    margin: auto;\n    display: block;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9zaWdudXAtcGFnZS9zaWdudXAtcGFnZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixjQUFjO0FBQ2xCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWdudXAtcGFnZS9zaWdudXAtcGFnZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNpZ251cCB7XG4gICAgYm9yZGVyOiAxcHg7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xufSJdfQ== */"

/***/ }),

/***/ "./src/app/components/signup-page/signup-page.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/components/signup-page/signup-page.component.ts ***!
  \*****************************************************************/
/*! exports provided: SignupPageComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignupPageComponent", function() { return SignupPageComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/auth.service */ "./src/app/services/auth.service.ts");




let SignupPageComponent = class SignupPageComponent {
    constructor(authService, router) {
        this.authService = authService;
        this.router = router;
    }
    ngOnInit() {
        this.uname = '';
        this.password = '';
        this.message = '';
        this.confirmPassword = '';
    }
    signupCheck() {
        if (!this.uname) {
            this.message = 'Please enter username!';
            return;
        }
        if (!this.password) {
            this.message = 'Please enter password!';
            return;
        }
        if (this.password != this.confirmPassword) {
            this.message = 'Password mismatchs!';
            return;
        }
        this.authService.signup(this.uname, this.password)
            .then((res) => {
            this.message = 'Correct';
            this.login();
        }, (err) => {
            this.message = 'Username already exists!';
        });
    }
    login() {
        this.router.navigate(['/login', this.uname, 'mazes']);
    }
    ngOnDestroy() {
        // this.subscriptionUsers.unsubscribe();
    }
};
SignupPageComponent.ctorParameters = () => [
    { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }
];
SignupPageComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-signup-page',
        template: __webpack_require__(/*! raw-loader!./signup-page.component.html */ "./node_modules/raw-loader/index.js!./src/app/components/signup-page/signup-page.component.html"),
        styles: [__webpack_require__(/*! ./signup-page.component.css */ "./src/app/components/signup-page/signup-page.component.css")]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
], SignupPageComponent);



/***/ }),

/***/ "./src/app/services/auth.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/auth.service.ts ***!
  \******************************************/
/*! exports provided: AuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__);




let AuthService = class AuthService {
    constructor(httpClient) {
        this.httpClient = httpClient;
    }
    login(uname, password) {
        this.user = {
            uname: uname,
            password: password,
            uid: 0
        };
        const options = { headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({ 'Content-Type': 'application/json' }) };
        return this.httpClient.post(`api/v1/login`, this.user, options)
            .toPromise()
            .then((res) => {
            console.log('do!');
            this.setSession(res);
        })
            .catch(this.handleError);
    }
    signup(uname, password) {
        this.user = {
            uname: uname,
            password: password,
            uid: 0
        };
        const options = { headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({ 'Content-Type': 'application/json' }) };
        return this.httpClient.post(`api/v1/signup`, this.user, options)
            .toPromise()
            .then((res) => {
            console.log('do!');
            this.setSession(res);
        })
            .catch(this.handleError);
    }
    homecheck() {
        const idToken = localStorage.getItem("id_token");
        const uname = localStorage.getItem("uname");
        const options = { headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({ 'Content-Type': 'application/json' }) };
        return this.httpClient.post(`api/v1/auth/${uname}`, { message: idToken }, options)
            .toPromise()
            .then((res) => uname)
            .catch(this.handleError);
    }
    checktoken(uname) {
        const idToken = localStorage.getItem("id_token");
        console.log(idToken);
        const options = { headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({ 'Content-Type': 'application/json' }) };
        return this.httpClient.post(`api/v1/auth/${uname}`, { message: idToken }, options)
            .toPromise()
            .then((res) => res)
            .catch(this.handleError);
    }
    setSession(authResult) {
        const expiresAt = moment__WEBPACK_IMPORTED_MODULE_3__().add(authResult.expiresIn, 'second');
        localStorage.setItem('id_token', authResult.idToken);
        localStorage.setItem('uname', authResult.uname);
        localStorage.setItem("expires_at", JSON.stringify(expiresAt.valueOf()));
    }
    logout() {
        localStorage.removeItem("id_token");
        localStorage.removeItem("uname");
        localStorage.removeItem("expires_at");
    }
    isLoggedIn() {
        return moment__WEBPACK_IMPORTED_MODULE_3__().isBefore(this.getExpiration());
    }
    isLoggedOut() {
        return !this.isLoggedIn();
    }
    getExpiration() {
        const expiration = localStorage.getItem("expires_at");
        const expiresAt = JSON.parse(expiration);
        return moment__WEBPACK_IMPORTED_MODULE_3__(expiresAt);
    }
    handleError(error) {
        return Promise.reject(error.body || error);
    }
};
AuthService.ctorParameters = () => [
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"] }
];
AuthService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
], AuthService);



/***/ }),

/***/ "./src/app/services/competition.service.ts":
/*!*************************************************!*\
  !*** ./src/app/services/competition.service.ts ***!
  \*************************************************/
/*! exports provided: CompetitionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompetitionService", function() { return CompetitionService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let CompetitionService = class CompetitionService {
    constructor() { }
    init(oppo_info, roomId, winner_time) {
        this.CompetitionSocket = io(window.location.origin, { query: 'roomId=' + roomId });
        this.CompetitionSocket.on("message", message => {
            console.log("message received from the server: " + message);
        });
        this.CompetitionSocket.on("oppo_connect", (uname) => {
            oppo_info.is_on = true;
            oppo_info.uname = uname;
            oppo_info.is_waiting = false;
            oppo_info.flag_connect = true;
        });
        this.CompetitionSocket.on("oppo_disconnect", () => {
            oppo_info.uname = '';
            oppo_info.is_waiting = false;
            oppo_info.is_on = false;
            oppo_info.flag_disconnect = true;
        });
        this.CompetitionSocket.on("ready", (is_waiting) => {
            oppo_info.is_waiting = true;
        });
        this.CompetitionSocket.on("countdown", (is_waiting) => {
            oppo_info.is_waiting = true;
            oppo_info.flag_countdown = true;
        });
        this.CompetitionSocket.on("gameend", (time) => {
            oppo_info.is_waiting = false;
            oppo_info.flag_gameend = true;
            winner_time.value = +(time.toFixed(2));
        });
        this.CompetitionSocket.on("updateLocation", (location) => {
            oppo_info.cur = +location;
            oppo_info.flag_position = true;
        });
    }
    connect(uname) {
        this.CompetitionSocket.emit("oppo_connect", uname);
    }
    ready(is_waiting) {
        this.CompetitionSocket.emit("ready", is_waiting);
    }
    updateLocation(cur) {
        this.CompetitionSocket.emit("updateLocation", cur);
    }
    gameend(timecount) {
        this.CompetitionSocket.emit('gameend', timecount.value);
    }
};
CompetitionService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], CompetitionService);



/***/ }),

/***/ "./src/app/services/data.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/data.service.ts ***!
  \******************************************/
/*! exports provided: DataService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataService", function() { return DataService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");


// import { MAZES } from '../mock-maze';
// import { USERS } from '../mock-user';


let DataService = class DataService {
    constructor(httpClient) {
        this.httpClient = httpClient;
        // private users: User[] = USERS;
        // private mazes: Maze[] = MAZES;
        this._mazeSource = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"]([]);
        this._userSource = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"]([]);
    }
    // getusers() {
    //   return this.users;
    // }
    getusers() {
        this.httpClient.get(`api/v1/users`)
            .toPromise()
            .then((res) => {
            this._userSource.next(res);
        })
            .catch(this.handleError);
        return this._userSource.asObservable();
    }
    // getuser(uname: string) {
    //   return this.users.find((user) => user.uname === uname);
    // }
    getuser(uname) {
        return this.httpClient.get(`api/v1/users/${uname}`)
            .toPromise()
            .then((res) => res)
            .catch(this.handleError);
    }
    // getmazes() {
    //   return this.mazes;
    // }
    getmazes() {
        this.httpClient.get(`api/v1/mazes`)
            .toPromise()
            .then((res) => {
            this._mazeSource.next(res);
        })
            .catch(this.handleError);
        return this._mazeSource.asObservable();
    }
    saveProcess(uname, mazeid, cur, timecount) {
        const data = {
            cur: cur,
            timecount: timecount
        };
        console.log(data);
        const options = { headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({ 'Content-Type': 'application/json' }) };
        return this.httpClient.post(`api/v1/process/${mazeid}/${uname}`, data, options)
            .toPromise()
            .then((res) => res)
            .catch(this.handleError);
    }
    restoreProcess(uname, mazeid) {
        return this.httpClient.get(`api/v1/process/${mazeid}/${uname}`)
            .toPromise()
            .then((res) => res)
            .catch(this.handleError);
    }
    // getmaze(mazeid: number) {
    //   return this.mazes.find((maze) => maze.id === mazeid);
    // }
    getmaze(id) {
        return this.httpClient.get(`api/v1/mazes/${id}`)
            .toPromise()
            .then((res) => res)
            .catch(this.handleError);
    }
    createmaze(width, height) {
        var data = {
            width: width,
            height: height
        };
        const options = { headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({ 'Content-Type': 'application/json' }) };
        return this.httpClient.post(`api/v1/maze-creation`, data, options)
            .toPromise()
            .then((res) => res)
            .catch(this.handleError);
    }
    addmaze(maze) {
        console.log(maze);
        const options = { headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({ 'Content-Type': 'application/json' }) };
        return this.httpClient.post(`api/v1/mazes`, maze, options)
            .toPromise()
            .then((res) => res)
            .catch(this.handleError);
    }
    handleError(error) {
        return Promise.reject(error.body || error);
    }
};
DataService.ctorParameters = () => [
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"] }
];
DataService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
], DataService);



/***/ }),

/***/ "./src/app/services/room.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/room.service.ts ***!
  \******************************************/
/*! exports provided: RoomService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomService", function() { return RoomService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");



let RoomService = class RoomService {
    constructor(httpClient) {
        this.httpClient = httpClient;
    }
    getRoomid() {
        return this.httpClient.get(`api/v1/rooms`)
            .toPromise()
            .then((res) => res)
            .catch(this.handleError);
    }
    createRoom(uname, roomid, mazeid) {
        const options = { headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({ 'Content-Type': 'application/json' }) };
        const data = {
            roomid: roomid,
            mazeid: mazeid
        };
        return this.httpClient.post(`api/v1/rooms/create/${uname}`, data, options)
            .toPromise()
            .then((res) => res)
            .catch(this.handleError);
    }
    joinRoom(uname, roomid, mazeid) {
        const options = { headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({ 'Content-Type': 'application/json' }) };
        const data = {
            roomid: roomid,
            mazeid: mazeid
        };
        console.log('create!');
        return this.httpClient.post(`api/v1/rooms/join/${uname}`, data, options)
            .toPromise()
            .then((res) => res)
            .catch(this.handleError);
    }
    handleError(error) {
        return Promise.reject(error.body || error);
    }
};
RoomService.ctorParameters = () => [
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"] }
];
RoomService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
], RoomService);



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
const environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm2015/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(err => console.error(err));


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /home/ubuntu/environment/online-maze/client/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map